(()=>{"use strict";const e="userData";console.log("starting index.js");const o=document.createElement("source");o.setAttribute("type","video/webm"),o.setAttribute("crossOrigin","anonymous"),o.setAttribute("src","./assets/star_loop_10x.webm"),document.getElementById("video-player").appendChild(o);const{accessToken:n,displayName:t}=function(){console.log("getting userData from localStorage");const o=window.localStorage.getItem(e);if(!o)return console.log("could not find userData in local storage, returning undefined"),{accessToken:void 0,refreshToken:void 0,expiresAt:void 0,email:void 0,displayName:void 0};const n=JSON.parse(o);return console.log("userData pulled from localStorage: ",n),console.log("returning from getUserData"),n}();if(!n){const e=document.querySelector(".new-sign-in");e.style.display="block",e.innerHTML='\n      <a class="focusable" tabindex="0" href="https://avt-sv-api-16ae49589f38.herokuapp.com/api/login">\n      Sign a new user into <span class="new-sign-in__spotify">Spotify</span></a>\n    '}if(n){console.log(`signed in with accessToken: ${n}`);const o=window.location.href.toString()+"visualizers/basic",s=document.querySelector(".go-to-visualizer");s.style.display="block",s.innerHTML=`\n      <a class="focusable" tabindex="0" href="${o}">Go to ${t}'s <span class="go-to-visualizer__visualizer focusable">Visualizer</span></a>\n    `;const i=document.querySelector(".sign-out-user");i.style.display="block",i.innerHTML=`\n      <button class="sign-out-button focusable" id="sign-out-button" tabindex="0">Sign Out ${t} from this device</button>\n    `;const a=document.getElementById("sign-out-button");a&&a.addEventListener("click",(()=>{console.log("signout clicked"),console.log("begin signing out user"),console.log("deleting userData from localStorage"),window.localStorage.removeItem(e),window.location.reload(),window.location.reload()}))}console.log("exiting index.js")})();